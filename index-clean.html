<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="content-type" content="text/html; charset=UTF-8">
  		<title>Competition study</title>
  		<link rel="stylesheet" href="dragdealer.css" />
  		<link rel="stylesheet" href="style.css"/>
		<script src="jquery-1.11.1.min.js"></script>
		<script src="dragdealer.js"></script>
		<script src="helper_functions.js"></script>
		<script src="parameters.js"></script>
		<script src="experiment.js"></script>
		<script src="jquery.min.js"></script>
		<!--mmturkey manages submitting data to Mechanical Turk. This defines a global object, turk, and attaches five properties to it, hitId, assignmentId, workerId, previewMode, and turkSubmitTo. It also provides a single method, submit(data), which you use to submit data to Turk. If no submission URL has been provided (because, e.g. you're testing your code outside of the Turk environment), submit displays what would have been submitted (without, obviously, any Turk-specific variables like workerId and assignmentId). -->
		<script src="mmturkey.js"></script>
		<script src="underscore-min.js"></script>


			<!-- //To do:
			//Fill in: history questions, post-questions, manipulation check questions, team questions
			//Adjust: add click-through on history questions, post questions, manipulation questions; check that sliders were active before continuing -->
	</head>
	<body>
		<div class="container">
			<div class="progress">
				<div class="bar-wrapper">
					<div class="bar"></div>
				</div>
			</div>

			<div class="intro_slide">
				<center class="intro_container">
					<img src="images/stanford.png" alt="Stanford University">
    				<p id='logo-text'>Stanford University</p>
    				<p class="block-text">
        				Thank you for participating in our experiment. In this experiment, we are interested in forms of competition. You will participate in a team game and answer some questions about the game. We expect this will take under ten minutes.</p>
     				<p class="block-text" id="legal">Legal information: By answering the
        				following questions, you are participating in a study being performed by
        				cognitive scientists in the Stanford Department of Psychology. If you have
        				questions about this research, please contact <b> M. H. Tessler at <a
        				href="mailto://mhtessler@stanford.edu">mhtessler@stanford.edu</a></b> or Jamil
        				Zaki, at jzaki@stanford.edu. You must be at least 18 years old to
        				participate. Your participation in this research is voluntary. You may
        				decline to answer any or all of the following questions. You may decline
        				further participation, at any time, without adverse consequences. Your
        				anonymity is assured; the researchers who have requested your
        				participation will not receive any personal information about you.</p>
				</center>
				<center class="button_container">
					<button type="button" class="continue_button" id="intro_button" onclick="hide_and_seek('intro_slide', 'instructions_slide'); numComplete = numComplete+1; $('#trial-num').html(numComplete); $('#total-num').html(numTrials); $('.bar').css('width', (200.0 * (1+numComplete)/15) + 'px');
">Continue</button> 
				</center>
			</div>


			<div class="instructions_slide" style="display: none;">
				<center class="instructions_container">
					<p id='logo-text'>Instructions</p>
					<div class="long_instructions_text" style="margin: 10px;">
						<p class="block-text"> 
							In this study, you will paired with a <b>live partner</b> from Mechanical Turk and will compete against another team of Turkers in a word game. The game involves rearranging letters to form words.</p>
						<p class="block-text"> 
					 Each team will have a <b>word selector</b> and a <b>word unscrambler</b>. The word selector will select a word from a list of <b>6-letter words</b> and enter it into a word scrambler, then the word unscrambler will have <b>10 seconds</b> to figure out the original word.  Each team will repeat this process for <b>ten words</b>, and the team with the greater number of correct answers could earn up to <b>1 dollar</b>, depending on the margin of difference between the two teams. 
						</p>
					</div>
				</center>
				<center class="button_container">
					<button type="button" class="continue_button" id="instructions_button" onclick="hide_and_seek('instructions_slide', 'initials_slide'); numComplete = numComplete+1; $('#trial-num').html(numComplete); $('.bar').css('width', (200.0 * (1+numComplete)/15) + 'px');">Continue</button> 
				</center>
			</div>

			<div class="initials_slide" style="display: none;">
				<center class="initials_container">
					<p id='logo-text'>Initials</p>
					<div class="long_instructions_text" style="margin: 10px;">
						<p class="block-text"> 
							Please enter your initials below. This is how you will be shown to other players.</p>
						<span id="initials">Initials: <input type="text" name="initials" id = "initials_id" maxlength="3"><br></span>

					</div>
				</center>
				<center class="button_container">
					<button type="button" class="continue_button" id="instructions_button" onclick="experiment.initials_check()">Continue</button> 
					<div class="error_message_visibility" style="display: none;">
						<font color="red"> Please make sure that you answered the question.</font>
					</div>
				</center>
			</div>


			<div class="loading_slide" style="display: none;">
				<center class="loading_container">
					<p> 
						Connecting... 
						<br>
						(this may take up to one minute)
					</p>
					<img src="images/waiting.gif" alt="waiting gif">
				</center>

			</div>

			<div class="loading_slide2" style="display: none;">
				<center class="loading_container">
					<p> 
						Users found --- loading... 
					</p>
					<img src="images/waiting.gif" alt="waiting gif">
				</center>

			</div>

			<div class="condition_slide" style="display: none;">
				<center class="condition_container">
					<p id='logo-text'>Teams</p>
					<div class="long_instructions_text" style="margin: 10px;">
						<p class="block-text"> 
							Teams have been assigned.</p>
						<p class="block-text"> 
							In this round, you will be the <b>word selector</b>. You will select words for your partner to unscramble.</p>
						<p class="block-text" id="condition_text">
							
						</p>
						<p class="block-text">
							Before we begin, you will see the results from a previous round in order to familiarize yourself with how the game works. In this sample round, the unscrambler was: <b>DW</b>. You will see the word chosen by the word selector in <b>scrambled</b> form, the unscrambled <b>answer</b>, the <b>time</b> it took to unscramble, and an indication of whether or not the response submitted was <b>correct and in time</b>.</p>
							<br>
					</div>
				</center>
				<center class="button_container">
				<button type="button" class="continue_button" id="instructions_button" onclick="hide_and_seek('condition_slide', 'evidence_slide'); experiment.evidence_function();">Continue</button> 
				<!-- <button type="button" class="continue_button" id="instructions_button" onclick="experiment.evidence_function()">Continue</button> -->
					
				</center>
			</div>

			<!-- This should be dynamically implemented in javascipt so that the value of the variable
			evidence_level  determines the number of facts (either 2 or 8) -->
			
			<div class="evidence_slide" style="display: none;">
				<div id="question_evidence_provided">  </div> <!--dynamically built in javascript-->
			</div> 
			

			<div class="eval_slide" style="display: none;">
				<center class="eval_container">
					<p id="logo-text">Based on the results from the previous screen:</p>
					<div class="slider_question_container" id="question1">
						<center class="strength_question">
							<div class="question">How do you think <b>DW</b>'s <b>word knowledge</b> compares to other Turkers?</div>
							<div class="slider_left_text">The absolute worst</div>
							<div id="simple-slider1" class="dragdealer slider">
								<img src="images/button.jpg" class="handle" id="slider1" style="opacity: 0.4;" onclick='{$(this).css("opacity", "1.0");};'>
    						</div> 
    						<div class="slider_right_text">The absolute best</div>  
						</center>
					</div>
					<div class="slider_question_container" id="question2" style="display: none;">
						<center class="luck_question">
							<div class="question">How much do you think <b>luck</b> contributes to performance as <b>unscrambler</b> in this game?</div>
							<div class="slider_left_text">Luck plays no role</div>
							<div id="simple-slider2" class="dragdealer slider">
								<img src="images/button.jpg" class="handle" id="slider2" style="opacity: 0.4;" onclick='{$(this).css("opacity", "1.0");};'>
    						</div>   
    						<div class="slider_right_text">This game is entirely luck</div>
						</center>
					</div>
					<div class="slider_question_container" id="question3" style="display: none;">
						<center class="average_question">
							<div class="question">Approximately <b>how many words</b> do you think the average Turker unscrambles correctly in this game?</div> 
							<div class="slider_left_text">None</div>
							<div id="simple-slider3" class="dragdealer slider">
								<img src="images/button.jpg" class="handle" id="slider3" style="opacity: 0.4;" onclick='{$(this).css("opacity", "1.0");};'>
    						</div>  
    						<div class="slider_right_text">All</div> 
						</center>
					</div>
					<div class="slider_question_container" id="question4" style="display: none;">
						<center class="optimism_question">
							<div class="question"><b>How likely</b> do you think it is that <b>your team will win</b>?</div>
							<div class="slider_left_text">Will certainly lose</div> 
							<div id="simple-slider4" class="dragdealer slider">
								<img src="images/button.jpg" class="handle" id="slider4" style="opacity: 0.4;" onclick='{$(this).css("opacity", "1.0");};'>
    						</div> 
    						<div class="slider_right_text">Will certainly win</div>  
						</center>
					</div>
				</center>
				<center class="button_container">
					<button type="button" class="continue_button" id="eval_button" onclick="evalClick()">Continue</button> 

					<div class="slider_unanswered" style="display: none;">
						<font color="red"> Please click and release the blue slider to activate it.</font>
					</div>
				</center>
			</div>




			<div class="manip_slide" style="display: none;">
				<center class="manip_container">
					<div class="manipulation_question_container" id="manip_question1">
						<center>
							<span class="question">
								<span id="DW_check">Who is DW?</span>
								<select id="DW_identity_id">
									<option value="blank" selected></option>
									<option value="partner">Partner</option>
									<option value="opponent">Opponent</option>
									<option value="opponent">Neither partner nor opponent</option>
								</select>
							</span>
							
						</center>
					</div>
					<div class="manipulation_question_container" id="manip_question2">
						<center>
							<span class="question">How many unscrambled words were in the familiarization?</span>
							<select id="familiarization_check">
								<option value="blank" selected></option>
								<option value="1">1</option>
								<option value="2">2</option>
								<option value="5">5</option>
								<option value="8">8</option>
								<option value="12">12</option>
							</select>
						</center>
					</div>
					<div class="manipulation_question_container" id="manip_question3">
						<center>
							<span class="question">How many scrambled words did DW correctly unscramble?</span>
							<select id="accuracy_check">
								<option value="blank" selected></option>
								<option value="1">1</option>
								<option value="2">2</option>
								<option value="5">5</option>
								<option value="8">8</option>
								<option value="12">12</option>
							</select>
						</center>
					</div>
					<div class="manipulation_question_container" id="manip_question4">
						<center>
							<span class="question">Does anything about this experiment seem strange or has anything been unclear so far?</span>
							<textarea rows="6" cols="50" id="overall_check"> </textarea>
						</center>
					</div>
				</center>
				<center class="button_container">
					<button type="button" class="continue_button" id="manip_button" onclick="experiment.last_slide_check()">Continue</button> 

				<div class="who_is_DW_unanswered" style="display: none;">
					<font color="red"> Please make sure that you selected an answer for all of the first three drop-down questions above.</font>
				</div>
				</center>
			</div>

			
			<center class="debrief_slide" style="display: none;">
				<center class="block-text">
					Thank you for completing the questionnaire. As you may know, sometimes scientific methods require that participants in psychology experiments not be given complete information about the setup of the experiment until after the experiment is completed. So even though we cannot always tell you everything "up front," we are absolutely sure to tell you everything when the experiment is completed.
					<br><br>
					We told you earlier that you were competing in a game with another person when this was not the case. Why did we lie about this? We are studying the effects of competitive settings on predictions about the game. Therefore, it was important that you believed you were actually going to play a game with a live partner. 
					<br><br>
					We apologize for having subjected you to this deception, even if it was a minor one, and we appreciate your willingness to participate in this study in order to help us with our research. Your feelings are very important to us, and we truly hope you understand why we felt it necessary to deceive you for a few minutes. We did this in the spirit of acquiring important scientific information about human behavior.
					<br><br>
					Whether our hypothesis is confirmed or disconfirmed, your participation has helped us learn something important about people and how they think. We are very grateful that you decided to help us today. Thank you.
					<br><br>

					We do have <b>one important request</b> - that you do not discuss the details of this experiment with other individuals who may be participants. If other individuals were to complete the experiment with prior knowledge of the deception, it could invalidate our results.

					<br> <br>
					We told you that the winner of the game would be given a bonus. We instead will randomly selecting 25% of the Turkers who completed this HIT for a bonus. If you happen to be one of the lucky ones we will send you a GrantBonus via AWS's API. We hope to do this within a few days at the very latest. 
					<br><br>
					Finally, please leave us any comments or suggestions you may have on the experiment. Thank you again for your participation!

				</center>
				<div class="debrief_question_container">
					<center>
						<div class="question">Comments or suggestions</div><br>
						<textarea rows="6" cols="50" id="comment_box"> </textarea>
					</center>
				</div>
				<center class="button_container">
					<button type="button" class="continue_button" id="debrief_button" onclick="endSlideClick(); experiment.check_finished()">Exit</button> 
				</center>
			</center>
			<div class="end_slide" style="display: none;">
				<center class="end_container">
					Thank you! You're finished.
				</center>
			</div>
		</div>

		<div class="teams_container">
			Teams
		</div>
	</body>
</html>